import e,{useCallback as r}from"react";import{useLocation as t,useHistory as o}from"react-router-dom";import a from"query-string";import n from"lodash/debounce";import u from"lodash/capitalize";export default function(c,i){var l;void 0===c&&(c="search"),void 0===i&&(i={debounce:1300,throttle:500});var p=t().pathname,d=o(),s=e.useState(null!==(l=new URLSearchParams(window.location.search).get(c))&&void 0!==l?l:""),m=s[0],f=s[1],v=function(){f(""),d.replace(p)},h=r(n((function(e){var r;""===e&&d.push(p),d.replace(a.stringifyUrl({url:p,query:(r={},r[c]=e,r)}))}),i.debounce),[]);return{inputProps:{value:m,onChange:function(e){""===e.currentTarget.value?v():(f(e.currentTarget.value),h(e.currentTarget.value))},onKeyDown:function(e){"Enter"===e.key&&h(e.currentTarget.value),"Escape"===e.key&&v()},placeholder:u(c)},buttonProps:{onClick:v,disabled:""===m},handleReset:v,value:m}}
//# sourceMappingURL=useSearch.js.map
